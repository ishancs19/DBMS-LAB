--Query 1
CREATE TABLE PERSON(DRIVER_ID VARCHAR(10), NAME VARCHAR(20), ADDRESS VARCHAR(30), PRIMARY KEY (DRIVER_ID));
CREATE TABLE CAR(REG_NUM VARCHAR(10), MODEL VARCHAR(10), YEAR INT, PRIMARY KEY(REG_NUM));
CREATE TABLE ACCIDENT(REPORT_NUM INT, ACCIDENT_DATE DATE, LOCATION VARCHAR(20), PRIMARY KEY(REPORT_NUM));
CREATE TABLE OWNS(DRIVER_ID VARCHAR(10), REG_NUM VARCHAR(10), PRIMARY KEY(DRIVER_ID, REG_NUM), FOREIGN KEY(DRIVER_ID) REFERENCES PERSON(DRIVER_ID), FOREIGN KEY(REG_NUM) REFERENCES CAR (REG_NUM));
CREATE TABLE PARTICIPATED(DRIVER_ID VARCHAR(10), REG_NUM VARCHAR(10), REPORT_NUM INT, DAMAGE_AMOUNT INT, PRIMARY KEY(DRIVER_ID, REG_NUM, REPORT_NUM), FOREIGN KEY(DRIVER_ID) REFERENCES PERSON(DRIVER_ID), FOREIGN KEY(REG_NUM) REFERENCES CAR(REG_NUM), FOREIGN KEY(REPORT_NUM) REFERENCES ACCIDENT (REPORT_NUM));

--Query 2
INSERT INTO PERSON VALUES('A01', 'Richard', 'Srinivas Nagar');
INSERT INTO PERSON VALUES('A02', 'Pradeep', 'Rajajinagar');
INSERT INTO PERSON VALUES('A03', 'Smith', 'Ashoknagar');
INSERT INTO PERSON VALUES('A04', 'Venu', 'N.R.Colony');
INSERT INTO PERSON VALUES('A05', 'John', 'Hanumanth Nagar');

INSERT INTO CAR VALUES('KA052250', 'Indica', 1990);
INSERT INTO CAR VALUES('KA031181', 'Lancer', 1957);
INSERT INTO CAR VALUES('KA095477', 'Toyota', 1998);
INSERT INTO CAR VALUES('KA053408', 'Honda', 2008);
INSERT INTO CAR VALUES('KA041702', 'Audi', 2005);

INSERT INTO ACCIDENT VALUES(11, '2003-01-01', 'Mysore Road');
INSERT INTO ACCIDENT VALUES(12, '2004-02-02', 'Southend Circle');
INSERT INTO ACCIDENT VALUES(13, '2003-01-21', 'Bulltemple Road');
INSERT INTO ACCIDENT VALUES(14, '2008-02-17', 'Mysore Road');
INSERT INTO ACCIDENT VALUES(15, '2005-03-04', 'Kanakpura Road');

INSERT INTO OWNS VALUES('A01', 'KA052250');
INSERT INTO OWNS VALUES('A02', 'KA053408');
INSERT INTO OWNS VALUES('A03', 'KA031181');
INSERT INTO OWNS VALUES('A04', 'KA095477');
INSERT INTO OWNS VALUES('A05', 'KA041702');

INSERT INTO PARTICIPATED VALUES('A01', 'KA052250', 11, 10000);
INSERT INTO PARTICIPATED VALUES('A02', 'KA053408', 12, 50000);
INSERT INTO PARTICIPATED VALUES('A03', 'KA095477', 13, 25000);
INSERT INTO PARTICIPATED VALUES('A04', 'KA031181', 14, 3000);
INSERT INTO PARTICIPATED VALUES('A05', 'KA041702', 15, 5000);

--Query 3a
UPDATE PARTICIPATED SET DAMAGE_AMOUNT = 25000 WHERE REPORT_NUM = 12;

--Query 3b
INSERT INTO ACCIDENT VALUES(16, '2008-02-21', 'Bulltemple Road');

--Query 4
SELECT COUNT(DISTINCT DRIVER_ID) FROM ACCIDENT, PARTICIPATED 
WHERE ACCIDENT.REPORT_NUM = PARTICIPATED.REPORT_NUM
AND ACCIDENT_DATE LIKE '2008%';

--Query 5
SELECT COUNT(REPORT_NUM) FROM CAR, PARTICIPATED
WHERE CAR.REG_NUM = PARTICIPATED.REG_NUM
AND MODEL = "AUDI";

INSERT INTO PARTICIPATED VALUES('A05', 'KA041702', 16, 6000);
SELECT * FROM CAR;
UPDATE PARTICIPATED SET DRIVER_ID = "A04" WHERE REG_NUM = 'KA041702';
